"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FromRoot = void 0;
function FromRoot() {
    return function (target, propertyKey) {
        const propertySymbol = Symbol(`Default FromRoot Property for ${String(propertyKey)}`);
        const getter = function () {
            const def = this[propertySymbol];
            const root = this["getRootNode"]();
            if (root === this) {
                return def[propertySymbol];
            }
            const rootValue = root[propertySymbol];
            if (rootValue) {
                return rootValue;
            }
            else {
                return def;
            }
        };
        const setter = function (_default) {
            this[propertySymbol] = _default;
        };
        Object.defineProperty(target, propertyKey, {
            get: getter,
            set: setter
        });
    };
}
exports.FromRoot = FromRoot;
